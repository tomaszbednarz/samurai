; coded by Tomek Bednarz (aka Warlock)
; FFPU.ASM
; procedury obslugi koprocesora
; last update: 25-06-97 22:54:01

IDEAL
P486

MODEL   FLAT,PASCAL

;

CODESEG

INCLUDE "always.inc"

PUBLIC  wsin_
PUBLIC  wcos_
PUBLIC  wsqr_
PUBLIC  wsqrt_
PUBLIC  watan2_
PUBLIC  wtan_

;
ALIGN 4                                                              ;[FTAN]
PROC            wtan_
;
        @wartosc        equ esp+Arg1+0*4
;
                fld     [d @wartosc]
                fptan
                fdivp   st(1),st
                ret     4
ENDP            wtan_
;
ALIGN 4                                                              ;[FSIN]
PROC            wsin_
;
        @wartosc        equ esp+Arg1+0*4
;
                fld     [d @wartosc]
                fsin
                ret     4
ENDP            wsin_
;
ALIGN 4                                                              ;[FCOS]
PROC            wcos_
;
        @wartosc        equ esp+Arg1+0*4
;
                fld     [d @wartosc]
                fcos
                ret     4
ENDP            wcos_
;
ALIGN 4                                                             ;[FSQRT]
PROC            wsqrt_
;
        @wartosc        equ esp+Arg1+0*4
;
                fld     [d @wartosc]
                fsqrt
                ret     4
ENDP            wsqrt_
;
ALIGN 4                                                              ;[FSQR]
PROC            wsqr_
;
        @wartosc        equ esp+Arg1+0*4
;
                fld     [d @wartosc]
                fmul    st,st(0)
                ret     4
ENDP            wsqr_
;
ALIGN 4                                                             ;[FATAN]
PROC            watan2_
;
        @wartosc1       equ esp+Arg1+0*4
        @wartosc2       equ esp+Arg2+0*4
;
                fld     [d @wartosc1]
                fld     [d @wartosc2]
                fpatan
                ret     8
ENDP            watan2_
;


;

DATASEG

;

; special variables
;

;

END



